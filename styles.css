
:root{
  --bg:#ffffff;
  --card:#f8fafc;
  --muted:#64748b;
  --border:#e2e8f0;
  --ink:#0f172a;
  --ok:#22c55e;
  --warn:#f59e0b;
}
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  font-family:ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, 'Helvetica Neue', Arial;
  color:var(--ink);
  background:var(--bg);
}

.app-header{
  position:sticky; top:0; z-index:5;
  backdrop-filter:saturate(1.2) blur(6px);
  background:rgba(255,255,255,.85);
  border-bottom:1px solid var(--border);
  padding:10px 16px;
  display:flex; align-items:center; gap:16px; justify-content:space-between;
}
.brand{display:flex; align-items:center; gap:12px}
.logo{width:28px; height:28px; border-radius:8px}
h1{font-size:18px; margin:0}
.ver{font-size:12px; color:var(--muted)}

.tabs{display:flex; gap:8px}
.tab-btn{border:1px solid var(--border); background:#fff; padding:8px 12px; border-radius:12px; cursor:pointer}
.tab-btn.active{border-color:var(--ink);}

main{max-width:1100px; margin:0 auto; padding:16px}

.toolbar{display:flex; gap:10px; align-items:center; margin-bottom:12px}
.primary{background:var(--ink); color:#fff; border:none; padding:10px 14px; border-radius:12px; cursor:pointer}
.ghost{background:#fff; border:1px solid var(--border); color:var(--ink); padding:10px 12px; border-radius:12px; cursor:pointer}
.spacer{flex:1}
.search input{border:1px solid var(--border); padding:10px 12px; border-radius:12px; width:260px}

.cards{display:grid; grid-template-columns:1fr; gap:12px}
@media(min-width:720px){.cards{grid-template-columns:repeat(2,1fr)}}
@media(min-width:1024px){.cards{grid-template-columns:repeat(3,1fr)}}

.card{background:var(--card); border:1px solid var(--border); border-radius:16px; padding:12px; transition:transform .2s ease;}
.card:hover{transform:translateY(-2px)}
.card-top{display:flex; justify-content:space-between; gap:10px}
.title{margin:.2rem 0 .3rem 0; font-size:1rem}
.meta{color:var(--muted); font-size:.85rem}
.totals{font-size:.9rem; text-align:right}
.card-actions{display:flex; gap:8px; margin-top:10px; flex-wrap:wrap}

.tab-panel{display:none}
.tab-panel.active{display:block}

dialog{border:none; border-radius:18px; padding:0; box-shadow:0 20px 60px rgba(15,23,42,.25); width:min(760px,92vw)}
dialog::backdrop{background:rgba(15,23,42,.35)}
#form-item{padding:16px}
#form-item h2{margin:0 0 12px}
.grid{display:grid; grid-template-columns:1fr; gap:10px}
@media(min-width:640px){.grid{grid-template-columns:repeat(2,1fr)}}
label{display:flex; flex-direction:column; gap:6px; font-size:.9rem}
input{border:1px solid var(--border); border-radius:12px; padding:10px 12px; font-size:1rem}
.calc-row{margin:10px 0 0; font-weight:700}
.modal-actions{display:flex; justify-content:flex-end; gap:8px; padding:12px 16px 16px}

.invoice{padding:16px 16px 0}
.invoice h3{margin:0 0 8px}
.invoice .kvs{color:var(--muted); font-size:.95rem; line-height:1.4}
.invoice .sum{border-top:1px dashed var(--border); margin-top:10px; padding-top:10px; font-weight:700}

#toast{
  position:fixed; bottom:16px; left:50%; transform:translateX(-50%) translateY(30px);
  background:var(--ink); color:#fff; padding:10px 14px; border-radius:12px;
  opacity:0; pointer-events:none; transition:all .3s ease;
}
#toast.show{opacity:1; transform:translateX(-50%) translateY(0)}
